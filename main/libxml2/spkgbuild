# description	: Contains libraries and utilities used for parsing XML files
# homepage	: https://github.com/GNOME/libxml2
# depends	: icu xz zlib

name=libxml2
version=2.12.1
release=2
source="https://download.gnome.org/sources/$name/${version%.*}/$name-$version.tar.xz"

build() {
	cd $name-$version

	./configure \
		--prefix=/usr \
		--disable-static \
		--with-icu \
		--with-history \
		--with-python=/usr/bin/python3 
	make
	make DESTDIR=$PKG install
	
	rm -r $PKG/usr/share/doc \
	      $PKG/usr/share/gtk-doc

	rm -vf /usr/lib/libxml2.la
	sed '/libs=/s/xml2.*/xml2"/' -i /usr/bin/xml2-config
}

